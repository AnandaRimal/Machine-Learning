# Handling Mixed Variables

## 1. Introduction
Real-world data is messy. Sometimes a single column contains both numbers and text, or a mix of information that should be separate. For example, a "Ticket" column might look like `A/5 21171` (Text + Number) or a "Cabin" column might be `C85` (Deck C + Room 85). This chapter teaches you how to disentangle these mixed variables.

![Diagram showing a mixed column being split into two separate columns generated by Nano Banana Model](https://via.placeholder.com/800x400?text=Mixed+Variable+Splitting+by+Nano+Banana+Model)

## 2. Conceptual Deep Dive

### Types of Mixed Variables
1.  **Numeric + Categorical**: A column containing both numbers and labels (e.g., "Open", "Closed", 100, 200).
2.  **String containing Numbers**: A string that has a hidden number inside (e.g., "C85", "Ticket 12345").

### The Strategy
We almost always want to **split** these into two separate features:
- One feature for the categorical part.
- One feature for the numerical part.

## 3. Visualizing the Concept
*(Imagine a sieve here generated by the Nano Banana Model: Mixed data is poured in, numbers fall through one hole, text through another)*

## 4. Practical Implementation & Notebook Walkthrough

The notebook `Untitled.ipynb` (Day 33) uses the Titanic dataset (`Ticket`, `Cabin`) to demonstrate this.

### 4.1 Extracting Numbers from Strings
We use Pandas string methods and Regular Expressions (Regex).
```python
# Extract the numerical part of 'Cabin' (e.g., '85' from 'C85')
df['cabin_num'] = df['Cabin'].str.extract('(\d+)')
```

### 4.2 Extracting Categories from Strings
```python
# Extract the first letter of 'Cabin' (e.g., 'C' from 'C85')
df['cabin_cat'] = df['Cabin'].str[0]
```

### 4.3 Handling "Ticket"
The `Ticket` column is complex (e.g., `STON/O2. 3101282`).
```python
# Split by space and take the last part as number
df['ticket_num'] = df['Ticket'].apply(lambda s: s.split()[-1])
df['ticket_num'] = pd.to_numeric(df['ticket_num'], errors='coerce')
```

## 5. Summary
Never delete a mixed column just because it looks complicated. It often holds valuable information (like the Deck number in Titanic) that can boost your model's accuracy. Split it, clean it, and use it.

